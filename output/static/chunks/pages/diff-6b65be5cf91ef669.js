(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{2022:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/diff",function(){return n(9217)}])},9217:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var o=n(5893),i=n(1857),r=n.n(i),s=n(9008),a=n.n(s),l=n(7294),c=n(3635),u=n(7860),d=n(3321),f=n(6798),p=n(5568),m=n(2152),x=n.n(m),b=n(4855),g=n.n(b);function h(){}h.prototype={diff:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.callback;"function"==typeof n&&(o=n,n={}),this.options=n;var i=this;function r(e){return o?(setTimeout(function(){o(void 0,e)},0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var s=(t=this.removeEmpty(this.tokenize(t))).length,a=e.length,l=1,c=s+a;n.maxEditLength&&(c=Math.min(c,n.maxEditLength));var u=[{newPos:-1,components:[]}],d=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=s&&d+1>=a)return r([{value:this.join(t),count:t.length}]);function f(){for(var n=-1*l;n<=l;n+=2){var o=void 0,c=u[n-1],d=u[n+1],f=(d?d.newPos:0)-n;c&&(u[n-1]=void 0);var p=c&&c.newPos+1<s,m=d&&0<=f&&f<a;if(!p&&!m){u[n]=void 0;continue}if(!p||m&&c.newPos<d.newPos?(o={newPos:d.newPos,components:d.components.slice(0)},i.pushComponent(o.components,void 0,!0)):(o=c,o.newPos++,i.pushComponent(o.components,!0,void 0)),f=i.extractCommon(o,t,e,n),o.newPos+1>=s&&f+1>=a)return r(function(e,t,n,o,i){for(var r=0,s=t.length,a=0,l=0;r<s;r++){var c=t[r];if(c.removed){if(c.value=e.join(o.slice(l,l+c.count)),l+=c.count,r&&t[r-1].added){var u=t[r-1];t[r-1]=t[r],t[r]=u}}else{if(!c.added&&i){var d=n.slice(a,a+c.count);d=d.map(function(e,t){var n=o[l+t];return n.length>e.length?n:e}),c.value=e.join(d)}else c.value=e.join(n.slice(a,a+c.count));a+=c.count,c.added||(l+=c.count)}}var f=t[s-1];return s>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(t[s-2].value+=f.value,t.pop()),t}(i,o.components,t,e,i.useLongestToken));u[n]=o}l++}if(o)!function e(){setTimeout(function(){if(l>c)return o();f()||e()},0)}();else for(;l<=c;){var p=f();if(p)return p}},pushComponent:function(e,t,n){var o=e[e.length-1];o&&o.added===t&&o.removed===n?e[e.length-1]={count:o.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,o){for(var i=t.length,r=n.length,s=e.newPos,a=s-o,l=0;s+1<i&&a+1<r&&this.equals(t[s+1],n[a+1]);)s++,a++,l++;return l&&e.components.push({count:l}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var v=new h,w=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,y=/\S/,k=new h;k.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!y.test(e)&&!y.test(t)},k.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&w.test(t[n])&&w.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var j=new h;function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}j.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var o=0;o<n.length;o++){var i=n[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t},new h().tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},new h().tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var z=Object.prototype.toString,N=new h;N.useLongestToken=!0,N.tokenize=j.tokenize,N.castInput=function(e){var t=this.options,n=t.undefinedReplacement,o=t.stringifyReplacer,i=void 0===o?function(e,t){return void 0===t?n:t}:o;return"string"==typeof e?e:JSON.stringify(function e(t,n,o,i,r){for(n=n||[],o=o||[],i&&(t=i(r,t)),s=0;s<n.length;s+=1)if(n[s]===t)return o[s];if("[object Array]"===z.call(t)){for(n.push(t),a=Array(t.length),o.push(a),s=0;s<t.length;s+=1)a[s]=e(t[s],n,o,i,r);return n.pop(),o.pop(),a}if(t&&t.toJSON&&(t=t.toJSON()),"object"===_(t)&&null!==t){n.push(t),a={},o.push(a);var s,a,l,c=[];for(l in t)t.hasOwnProperty(l)&&c.push(l);for(c.sort(),s=0;s<c.length;s+=1)a[l=c[s]]=e(t[l],n,o,i,l);n.pop(),o.pop()}else a=t;return a}(e,null,null,i),i,"  ")},N.equals=function(e,t){return h.prototype.equals.call(N,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var C=new h;C.tokenize=function(e){return e.slice()},C.join=C.removeEmpty=function(e){return e};let S=(e,t)=>{let n=v.diff(e,t,void 0);return{...n}};function L(){let[e,t]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[s,m]=(0,l.useState)(""),[b,h]=(0,l.useState)([]),[v,w]=(0,l.useState)(!1),y=()=>{w(!0)},k=()=>{w(!1)},j=(0,l.useCallback)((e,t)=>{let n=S(e,t),o=[],i="",r=0;Object.values(n).map(e=>{console.info("value:",e),(e.added||e.removed)&&o.push({highlight:[r,r+e.count],className:e.added?g().green:g().red}),i+=e.value,r+=e.count}),m(i),h([...o])},[]),_=e=>{t(e.target.value)},z=(0,l.useCallback)(()=>{j(e,n)},[e,n]),N=e=>{i(e.target.value)},C=(0,l.useCallback)(()=>{let e=new(x())(".copy-btn");e.on("success",e=>{console.info(e),y(),setTimeout(()=>{k()},1500)}),e.on("error",function(e){console.error("Action:",e.action),console.error("Trigger:",e.trigger)})},[]),L=()=>{t(""),i(""),m("")};return(0,o.jsxs)("div",{className:"jsx-ed14577740a5e925 "+(g().container||""),children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{className:"jsx-ed14577740a5e925",children:"快来文本找不同~"}),(0,o.jsx)("link",{rel:"icon",href:"/bingxiang.ico",className:"jsx-ed14577740a5e925"})]}),(0,o.jsxs)("main",{className:"jsx-ed14577740a5e925",children:[(0,o.jsx)("h1",{className:"jsx-ed14577740a5e925 "+(g().title||""),children:"让我康康是谁动了我的稿子！！"}),(0,o.jsxs)("div",{className:"jsx-ed14577740a5e925 "+(g().texts||""),children:[(0,o.jsx)(u.Z,{id:"outlined-multiline-static",label:"文本原稿",className:g().text,multiline:!0,rows:18,"min-rows":18,value:e,onChange:_,color:"secondary"}),(0,o.jsx)(u.Z,{id:"outlined-multiline-static",label:"修改稿",className:g().textRight,style:{marginLeft:"2vw"},multiline:!0,rows:18,"min-rows":18,value:n,onChange:N,color:"info"})]}),s&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"jsx-ed14577740a5e925 "+(g().diffRes||""),children:(0,o.jsx)(c.pb,{value:s,highlight:b,placeholder:"",readOnly:!0})}),(0,o.jsxs)("div",{className:"jsx-ed14577740a5e925 "+(g().tips||""),children:["Tips：",(0,o.jsx)("span",{className:"jsx-ed14577740a5e925 "+(g().green||""),children:"绿色"}),"内容为新增内容，",(0,o.jsx)("span",{className:"jsx-ed14577740a5e925 "+(g().red||""),children:"红色"}),"内容为删除内容~"]})]}),(0,o.jsxs)("div",{className:"jsx-ed14577740a5e925 "+(g().buttons||""),children:[(0,o.jsx)(d.Z,{variant:"contained",color:"info",onClick:z,className:g().button,children:"来找不同吧(\xb4・ω・`)"}),(0,o.jsx)(d.Z,{"data-clipboard-text":n,variant:"contained",color:"secondary",onClick:C,className:"".concat(g().copybutton," copy-btn"),style:{marginLeft:"20px"},children:"复制修改稿 ♡.∩▂∩.♡"}),(0,o.jsx)(d.Z,{"data-clipboard-text":n,variant:"contained",color:"error",onClick:L,className:"".concat(g().copybutton," copy-btn"),style:{marginLeft:"20px"},children:"清空内容 ◑▽◐"})]}),(0,o.jsx)(f.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:v,className:g().message,onClose:k,children:(0,o.jsx)(p.Z,{severity:"success",sx:{width:"100%"},children:"复制成功"})})]}),(0,o.jsx)("footer",{className:"jsx-ed14577740a5e925",children:(0,o.jsx)("a",{href:"https://www.skylinebin.com",target:"_blank",className:"jsx-ed14577740a5e925 "+(g().power||""),children:"@SkylineBin for GSM"})}),(0,o.jsx)(r(),{id:"fb863c311112a782",children:"main.jsx-ed14577740a5e925{padding:2rem 0 1.5rem;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:-webkit-linear-gradient(to right,rgb(201,214,255),rgb(226,226,226));background:-webkit-linear-gradient(left,rgb(201,214,255),rgb(226,226,226));background:-moz-linear-gradient(left,rgb(201,214,255),rgb(226,226,226));background:-o-linear-gradient(left,rgb(201,214,255),rgb(226,226,226));background:linear-gradient(to right,rgb(201,214,255),rgb(226,226,226));*/\r\n        }footer.jsx-ed14577740a5e925{width:100%;height:80px;border-top:1px solid#eaeaea;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}footer.jsx-ed14577740a5e925 img.jsx-ed14577740a5e925{margin-left:.5rem}footer.jsx-ed14577740a5e925 a.jsx-ed14577740a5e925{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-decoration:none;color:inherit}code.jsx-ed14577740a5e925{background:#fafafa;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;padding:.75rem;font-size:1.1rem;font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}"}),(0,o.jsx)(r(),{id:"60cfe9b2751926a1",children:"html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}"})]})}},4855:function(e){e.exports={container:"diff_container__X8wQQ",title:"diff_title__Gas6A",text:"diff_text__Qrmya",textRight:"diff_textRight__lqBqt",diffRes:"diff_diffRes__uys6J",tips:"diff_tips__CcLdg",green:"diff_green__BMuFZ",red:"diff_red__UYR6Y",buttons:"diff_buttons__KN7MK",texts:"diff_texts__uxrGA",copybutton:"diff_copybutton__I3Lgb",message:"diff_message__yQFq_",power:"diff_power__B3jUe"}}},function(e){e.O(0,[774,315,658,815,888,179],function(){return e(e.s=2022)}),_N_E=e.O()}]);